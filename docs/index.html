<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easy Classed Conditions and Condition Handling • rror</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Easy Classed Conditions and Condition Handling">
<meta property="og:description" content="Tools for making raising and handling classed conditions (including 
    messages, warnings, and errors) easy.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rror</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rror" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rror" class="anchor"></a>rror</h1></div>
<!-- badges: start -->

<p><code>rror</code> is a package to make using classed conditions in R easier. It contains utilities for creating, raising, and catching conditions including but not limited to messages, warnings, and errors. It is built on top of the base condition handling system, and is fully compatible with it.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>rror</code> is not on CRAN yet, but can be installed from GitHub with</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("remotes")</span>
<span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"alistaire47/rror"</span>)</pre></div>
</div>
<div id="what-are-conditions" class="section level2">
<h2 class="hasAnchor">
<a href="#what-are-conditions" class="anchor"></a>What are conditions?</h2>
<p><em>Conditions</em> are a formalized way of providing feedback to the user and handling runtime issues. In most languages, conditions include errors and warnings; in R, <em>messages</em> (usually generated with <code><a href="https://rdrr.io/r/base/message.html">message()</a></code>, equivalent to <code><a href="https://rdrr.io/r/base/warning.html">warning()</a></code> or <code><a href="https://rdrr.io/r/base/stop.html">stop()</a></code>) are also conditions, used for generating diagnostic messages for the user.</p>
<p>R also has infrastructure to create, raise, and handle conditions of your own creation, which may or may not inherit from one of the built-in conditions.</p>
</div>
<div id="why-rror" class="section level2">
<h2 class="hasAnchor">
<a href="#why-rror" class="anchor"></a>Why <code>rror</code>?</h2>
<p>The condition handling system of R is very powerful, but unfortunately most users don’t take advantage of its full power, because it is not trivial to understand, a process further hindered by limited documentation.</p>
<p><code>rror</code> makes it very simple to leverage more of the power of this system—in particular working with classed errors. For instance, if a package maintainer is validating arguments and wants to raise an error for bad input, instead of generating a <code>simpleError</code> from <code><a href="https://rdrr.io/r/base/stop.html">stop()</a></code>, e.g.</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="no">plus1</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>) {
    <span class="kw">if</span> (!<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span>(<span class="no">x</span>)) {
        <span class="fu"><a href="https://rdrr.io/r/base/stop.html">stop</a></span>(<span class="st">"`x` must be numeric"</span>)
    }

    <span class="no">x</span> + <span class="fl">1</span>
}

<span class="fu">plus1</span>(<span class="fl">2</span>)
<span class="co">#&gt; [1] 3</span>

<span class="fu"><a href="https://rdrr.io/r/base/conditions.html">tryCatch</a></span>(
    <span class="fu">plus1</span>(<span class="st">"a"</span>),
    <span class="kw">error</span> <span class="kw">=</span> <span class="kw">function</span>(<span class="no">e</span>) <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">e</span>)
)
<span class="co">#&gt; List of 2</span>
<span class="co">#&gt;  $ message: chr "`x` must be numeric"</span>
<span class="co">#&gt;  $ call   : language plus1("a")</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:3] "simpleError" "error" "condition"</span></pre></div>
<p>the maintainer can raise a classed error, e.g.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="no">plus2</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>){
    <span class="kw">if</span> (!<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span>(<span class="no">x</span>)) {
        <span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/raise.html">raise</a></span>(<span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/condition.html">error_condition</a></span>(<span class="st">"`x` must be numeric"</span>, <span class="kw">class</span> <span class="kw">=</span> <span class="st">"value_error"</span>))
    }

    <span class="no">x</span> + <span class="fl">2</span>
}

<span class="fu">plus2</span>(<span class="fl">3</span>)
<span class="co">#&gt; [1] 5</span>

<span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/except.html">except</a></span>(
    <span class="fu">plus2</span>(<span class="st">"b"</span>),
    <span class="kw">value_error</span> <span class="kw">=</span> <span class="kw">function</span>(<span class="no">e</span>) <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">e</span>)    <span class="co"># we can catch specific error classes!</span>
)
<span class="co">#&gt; List of 2</span>
<span class="co">#&gt;  $ message: chr "`x` must be numeric"</span>
<span class="co">#&gt;  $ call   : language plus2(x = "b")</span>
<span class="co">#&gt;  - attr(*, "capture_call")= logi TRUE</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:3] "value_error" "error" "condition"</span></pre></div>
<p>Common conditions can be predefined and reused.</p>
<p><code>rror</code>’s condition handling function, <code><a href="reference/except.html">except()</a></code>, also has some benefits over <code><a href="https://rdrr.io/r/base/conditions.html">tryCatch()</a></code>. In particular, because the handlers registered in <code><a href="https://rdrr.io/r/base/conditions.html">tryCatch()</a></code> are exiting handlers, it is not very useful for suppressing repeated warnings or messages and continuing:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">f1</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">i</span>) <span class="fu"><a href="https://rdrr.io/r/base/warning.html">warning</a></span>(<span class="st">"warning "</span>, <span class="no">i</span>)

<span class="fu"><a href="https://rdrr.io/r/base/conditions.html">tryCatch</a></span>(
    {
        <span class="kw">for</span> (<span class="no">i</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="fl">3</span>) <span class="fu">f1</span>(<span class="no">i</span>)
        <span class="fl">2</span> + <span class="fl">2</span>
    },
    <span class="kw">warning</span> <span class="kw">=</span> <span class="kw">function</span>(<span class="no">w</span>) <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">w</span>)
)
<span class="co">#&gt; &lt;simpleWarning in f1(i): warning 1&gt;</span></pre></div>
<p><code><a href="reference/except.html">except()</a></code> handles errors with exiting handlers, but non-fatal conditions use local handlers, which lets specific errors be easily suppressed:</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">f2</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">i</span>) {
    <span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/raise.html">raise</a></span>(
        <span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/condition.html">warning_condition</a></span>(
            <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"warning"</span>, <span class="no">i</span>),
            <span class="kw">class</span> <span class="kw">=</span> <span class="st">"number_warning"</span>
        )
    )
}

<span class="kw pkg">rror</span><span class="kw ns">::</span><span class="fu"><a href="reference/except.html">except</a></span>(
    {
        <span class="kw">for</span> (<span class="no">i</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="fl">3</span>) <span class="fu">f2</span>(<span class="no">i</span>)
        <span class="fl">2</span> + <span class="fl">2</span>
    },
    <span class="kw">number_warning</span> <span class="kw">=</span> <span class="kw">function</span>(<span class="no">w</span>) <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">w</span>)
)
<span class="co">#&gt; &lt;number_warning in f2(i = i): warning 1&gt;</span>
<span class="co">#&gt; &lt;number_warning in f2(i = i): warning 2&gt;</span>
<span class="co">#&gt; &lt;number_warning in f2(i = i): warning 3&gt;</span>
<span class="co">#&gt; [1] 4</span></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://alistaire.rbind.io/">Edward Visel</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2811-6254" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=rror"><img src="https://www.r-pkg.org/badges/version/rror" alt="CRAN status"></a></li>
<li><a href="https://travis-ci.org/alistaire47/rror"><img src="https://travis-ci.org/alistaire47/rror.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/alistaire47/rror"><img src="https://ci.appveyor.com/api/projects/status/github/alistaire47/rror?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/gh/alistaire47/rror?branch=master"><img src="https://codecov.io/gh/alistaire47/rror/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://alistaire.rbind.io/">Edward Visel</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
